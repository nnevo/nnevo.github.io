<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayPal Dashboard - Invoice Branding</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Merriweather:wght@400;700&family=Montserrat:wght@400;700&family=Open+Sans:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@heroicons/react@2.0.18/24/solid/index.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .theme-transition {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <img src="https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_37x23.jpg" alt="PayPal Logo" class="h-8">
                </div>
                <div class="flex items-center">
                    <a href="#" class="text-gray-600 hover:text-gray-900">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <div class="flex">
        <div class="w-64 bg-white shadow-lg h-[calc(100vh-4rem)] fixed">
            <nav class="mt-5 px-2">
                <a href="#" class="group flex items-center px-2 py-2 text-base font-medium rounded-md bg-blue-50 text-blue-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="mr-4 h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2z" />
                    </svg>
                    Dashboard
                </a>

                <a href="#" class="group flex items-center px-2 py-2 text-base font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 mt-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="mr-4 h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                    </svg>
                    Invoices
                </a>

                <a href="#" class="group flex items-center px-2 py-2 text-base font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 mt-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="mr-4 h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    Payments
                </a>

                <a href="#" class="group flex items-center px-2 py-2 text-base font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 mt-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="mr-4 h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    Analytics
                </a>

                <a href="#" class="group flex items-center px-2 py-2 text-base font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 mt-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="mr-4 h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    Customers
                </a>

                <a href="#" class="group flex items-center px-2 py-2 text-base font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 mt-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="mr-4 h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    Settings
                </a>
            </nav>
        </div>

        <div class="flex-1 ml-64">
            <div class="container px-4 py-8 max-w-7xl">
                <h1 class="text-3xl font-semibold text-gray-800 mb-8">Invoice Branding</h1>
                
                <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
                    <div class="theme-selector bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-xl font-semibold mb-6">Select Theme</h3>
                        <div class="space-y-3">
                            <button onclick="applyTheme('professional')" class="theme-button w-full p-3 rounded-lg border-2 hover:shadow-md transition-all">
                                <div>
                                    <div class="flex space-x-1 mb-2">
                                        <div class="h-6 rounded flex-1 bg-[#2C3E50]"></div>
                                        <div class="h-6 rounded flex-1 bg-[#34495E]"></div>
                                        <div class="h-6 rounded flex-1 bg-[#3498DB]"></div>
                                    </div>
                                    <div class="font-medium">Professional</div>
                                </div>
                            </button>
                            
                            <button onclick="applyTheme('modern')" class="theme-button w-full p-3 rounded-lg border-2 hover:shadow-md transition-all">
                                <div>
                                    <div class="flex space-x-1 mb-2">
                                        <div class="h-6 rounded flex-1 bg-[#16A085]"></div>
                                        <div class="h-6 rounded flex-1 bg-[#1ABC9C]"></div>
                                        <div class="h-6 rounded flex-1 bg-[#E74C3C]"></div>
                                    </div>
                                    <div class="font-medium">Modern</div>
                                </div>
                            </button>
                            
                            <button onclick="applyTheme('classic')" class="theme-button w-full p-3 rounded-lg border-2 hover:shadow-md transition-all">
                                <div>
                                    <div class="flex space-x-1 mb-2">
                                        <div class="h-6 rounded flex-1 bg-[#8E44AD]"></div>
                                        <div class="h-6 rounded flex-1 bg-[#9B59B6]"></div>
                                        <div class="h-6 rounded flex-1 bg-[#F1C40F]"></div>
                                    </div>
                                    <div class="font-medium">Classic</div>
                                </div>
                            </button>
                        </div>

                        <div class="mt-8 pt-8 border-t border-gray-200">
                            <h3 class="text-xl font-semibold mb-6">Custom Theme</h3>
                            <div class="space-y-4">
                                <div class="grid grid-cols-3 gap-2">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Primary</label>
                                        <input type="color" 
                                               id="primaryColor" 
                                               class="w-full h-8 p-0.5 rounded border cursor-pointer"
                                               value="#2C3E50"
                                               onchange="updateCustomTheme()">
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Secondary</label>
                                        <input type="color" 
                                               id="secondaryColor" 
                                               class="w-full h-8 p-0.5 rounded border cursor-pointer"
                                               value="#34495E"
                                               onchange="updateCustomTheme()">
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Accent</label>
                                        <input type="color" 
                                               id="accentColor" 
                                               class="w-full h-8 p-0.5 rounded border cursor-pointer"
                                               value="#3498DB"
                                               onchange="updateCustomTheme()">
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Font Family</label>
                                    <select id="fontFamily" 
                                            class="w-full p-2 border rounded"
                                            onchange="updateCustomTheme()">
                                        <option value="Inter, sans-serif">Inter</option>
                                        <option value="Montserrat, sans-serif">Montserrat</option>
                                        <option value="Merriweather, serif">Merriweather</option>
                                        <option value="Lato, sans-serif">Lato</option>
                                        <option value="Open Sans, sans-serif">Open Sans</option>
                                    </select>
                                </div>

                                <button onclick="applyTheme('custom')" 
                                        class="theme-button w-full p-3 rounded-lg border-2 hover:shadow-md transition-all">
                                    <div class="space-y-2">
                                        <div id="customThemePreview" class="flex space-x-1">
                                            <div class="h-4 rounded flex-1" id="primaryPreview"></div>
                                            <div class="h-4 rounded flex-1" id="secondaryPreview"></div>
                                            <div class="h-4 rounded flex-1" id="accentPreview"></div>
                                        </div>
                                        <div class="mt-2 font-medium">Apply Custom Theme</div>
                                    </div>
                                </button>
                            </div>
                        </div>

                        <div class="mt-8 pt-8 border-t border-gray-200">
                            <h3 class="text-xl font-semibold mb-6">Extract from Website</h3>
                            <div class="space-y-4">
                                <div class="space-y-2">
                                    <label class="block text-sm font-medium text-gray-700">Website URL</label>
                                    <div class="flex gap-2">
                                        <input type="url" 
                                               id="websiteUrl" 
                                               placeholder="https://example.com"
                                               class="flex-1 p-2 border rounded text-sm">
                                        <button onclick="extractTheme()" 
                                                class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors">
                                            Extract
                                        </button>
                                    </div>
                                    <p class="text-xs text-gray-500">Enter a website URL to extract its colors and fonts</p>
                                </div>

                                <div id="extractedTheme" class="hidden">
                                    <div class="mb-4">
                                        <h4 class="text-sm font-medium text-gray-700 mb-2">Extracted Colors</h4>
                                        <div class="grid grid-cols-3 gap-2">
                                            <div class="space-y-1">
                                                <div id="extractedPrimary" class="h-6 rounded"></div>
                                                <span class="text-xs text-gray-500">Primary</span>
                                            </div>
                                            <div class="space-y-1">
                                                <div id="extractedSecondary" class="h-6 rounded"></div>
                                                <span class="text-xs text-gray-500">Secondary</span>
                                            </div>
                                            <div class="space-y-1">
                                                <div id="extractedAccent" class="h-6 rounded"></div>
                                                <span class="text-xs text-gray-500">Accent</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h4 class="text-sm font-medium text-gray-700 mb-2">Detected Font</h4>
                                        <div id="extractedFont" class="p-2 bg-gray-50 rounded text-sm"></div>
                                    </div>

                                    <button onclick="applyExtractedTheme()" 
                                            class="w-full p-3 rounded-lg border-2 hover:shadow-md transition-all">
                                        <div class="font-medium">Apply Extracted Theme</div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="lg:col-span-2">
                        <div id="invoicePreview" class="theme-transition bg-white rounded-lg shadow-lg p-8">
                            <div class="invoice-header border-b-2 pb-6 mb-6">
                                <div class="flex justify-between items-center">
                                    <h2 class="text-2xl font-bold">INVOICE</h2>
                                    <div class="flex items-center">
                                        <img src="https://via.placeholder.com/150x50?text=Your+Logo" alt="Business Logo" class="h-12 object-contain"/>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-8 mb-8">
                                <div class="space-y-2">
                                    <h3 class="text-lg font-semibold">From</h3>
                                    <p class="text-gray-600">Your Company Name</p>
                                    <p class="text-gray-600">123 Business Street</p>
                                    <p class="text-gray-600">City, Country</p>
                                </div>
                                <div class="space-y-2">
                                    <h3 class="text-lg font-semibold">To</h3>
                                    <p class="text-gray-600">Client Name</p>
                                    <p class="text-gray-600">456 Client Avenue</p>
                                    <p class="text-gray-600">City, Country</p>
                                </div>
                            </div>

                            <div class="overflow-x-auto mb-8">
                                <table class="w-full">
                                    <thead>
                                        <tr class="theme-transition">
                                            <th class="py-3 px-4 text-left">Item</th>
                                            <th class="py-3 px-4 text-left">Quantity</th>
                                            <th class="py-3 px-4 text-left">Price</th>
                                            <th class="py-3 px-4 text-left">Total</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="border-b theme-transition">
                                            <td class="py-3 px-4">Web Development</td>
                                            <td class="py-3 px-4">1</td>
                                            <td class="py-3 px-4">$2,000.00</td>
                                            <td class="py-3 px-4">$2,000.00</td>
                                        </tr>
                                        <tr class="border-b theme-transition">
                                            <td class="py-3 px-4">UI/UX Design</td>
                                            <td class="py-3 px-4">1</td>
                                            <td class="py-3 px-4">$1,500.00</td>
                                            <td class="py-3 px-4">$1,500.00</td>
                                        </tr>
                                        <tr class="border-b theme-transition">
                                            <td class="py-3 px-4">Content Writing</td>
                                            <td class="py-3 px-4">2</td>
                                            <td class="py-3 px-4">$400.00</td>
                                            <td class="py-3 px-4">$800.00</td>
                                        </tr>
                                        <tr class="border-b theme-transition">
                                            <td class="py-3 px-4">SEO Setup</td>
                                            <td class="py-3 px-4">1</td>
                                            <td class="py-3 px-4">$700.00</td>
                                            <td class="py-3 px-4">$700.00</td>
                                        </tr>
                                        <tr class="border-b theme-transition">
                                            <td class="py-3 px-4 text-right" colspan="3">Subtotal</td>
                                            <td class="py-3 px-4 font-medium">$5,000.00</td>
                                        </tr>
                                        <tr class="border-b theme-transition text-gray-600">
                                            <td class="py-3 px-4 text-right" colspan="3">Discount (5%)</td>
                                            <td class="py-3 px-4">-$250.00</td>
                                        </tr>
                                        <tr class="theme-transition font-semibold">
                                            <td class="py-3 px-4 text-right" colspan="3">Total</td>
                                            <td class="py-3 px-4">$4,750.00</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="mt-8 p-4 bg-gray-50 rounded-lg theme-transition">
                                <h3 class="text-lg font-semibold mb-2">Notes</h3>
                                <p class="text-gray-600 leading-relaxed">
                                    Thank you for choosing our services. This invoice includes all items as discussed in our previous meetings and correspondence. All work will be completed according to the agreed timeline and specifications. Please note that payment is due within 30 days of invoice date, and we accept all major payment methods including PayPal, credit cards, and bank transfers.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-xl font-semibold mb-6">Payment Preview</h3>
                        <div class="space-y-4">
                            <div class="theme-transition rounded-md overflow-hidden">
                                <button class="w-full py-3 px-4 bg-[#0070ba] hover:bg-[#003087] text-white font-medium rounded-md mb-2 flex items-center justify-center transition-colors">
                                    <img src="https://www.paypalobjects.com/webstatic/en_US/i/buttons/PP_logo_h_100x26.png" alt="PayPal" class="h-5 mr-2">
                                    Pay with PayPal
                                </button>

                                <button class="w-full py-3 px-4 bg-black hover:bg-gray-800 text-white font-medium rounded-md mb-2 flex items-center justify-center transition-colors">
                                    <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 2C6.477 2 2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.989C18.343 21.129 22 16.99 22 12c0-5.523-4.477-10-10-10z"/>
                                    </svg>
                                    Pay with Venmo
                                </button>

                                <button class="w-full py-3 px-4 bg-white hover:bg-gray-50 text-gray-900 font-medium rounded-md border-2 flex items-center justify-center transition-colors">
                                    <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 2C6.477 2 2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.989C18.343 21.129 22 16.99 22 12c0-5.523-4.477-10-10-10z"/>
                                    </svg>
                                    Debit or Credit Card
                                </button>
                            </div>

                            <div class="mt-6 border-t pt-4">
                                <div class="flex justify-between mb-2">
                                    <span class="text-gray-600">Subtotal</span>
                                    <span class="font-medium">$5,000.00</span>
                                </div>
                                <div class="flex justify-between mb-2">
                                    <span class="text-gray-600">Discount (5%)</span>
                                    <span class="text-gray-600">-$250.00</span>
                                </div>
                                <div class="flex justify-between font-semibold text-lg">
                                    <span>Total</span>
                                    <span>$4,750.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const themes = {
            professional: {
                primaryColor: '#2C3E50',
                secondaryColor: '#34495E',
                accentColor: '#3498DB',
                backgroundColor: '#FFFFFF',
                fontFamily: 'Inter, sans-serif'
            },
            modern: {
                primaryColor: '#16A085',
                secondaryColor: '#1ABC9C',
                accentColor: '#E74C3C',
                backgroundColor: '#FFFFFF',
                fontFamily: 'Montserrat, sans-serif'
            },
            classic: {
                primaryColor: '#8E44AD',
                secondaryColor: '#9B59B6',
                accentColor: '#F1C40F',
                backgroundColor: '#FFFFFF',
                fontFamily: 'Merriweather, serif'
            },
            custom: {
                primaryColor: '#2C3E50',
                secondaryColor: '#34495E',
                accentColor: '#3498DB',
                backgroundColor: '#FFFFFF',
                fontFamily: 'Inter, sans-serif'
            }
        };

        let currentTheme = 'professional';

        function applyTheme(themeName) {
            currentTheme = themeName;
            const theme = themes[themeName];
            const invoice = document.getElementById('invoicePreview');
            
            // Apply font from theme
            invoice.style.fontFamily = theme.fontFamily;
            
            // Update theme buttons
            document.querySelectorAll('.theme-button').forEach(button => {
                button.style.borderColor = 
                    button.textContent.trim().toLowerCase() === themeName 
                    ? theme.primaryColor 
                    : '#e5e7eb';
            });
            
            // Apply colors to header
            const header = invoice.querySelector('.invoice-header');
            header.style.borderBottomColor = theme.accentColor;
            header.querySelector('h2').style.color = theme.primaryColor;
            
            // Apply colors to table header
            const tableHeader = invoice.querySelector('thead tr');
            tableHeader.style.backgroundColor = theme.primaryColor;
            tableHeader.style.color = '#FFFFFF';
            
            // Apply colors to table rows
            const tableRows = invoice.querySelectorAll('tbody tr');
            tableRows.forEach(row => {
                row.style.borderBottomColor = theme.secondaryColor;
            });
            
            // Apply colors to headings
            const headings = invoice.querySelectorAll('h3');
            headings.forEach(heading => {
                heading.style.color = theme.secondaryColor;
            });
            
            // Apply theme to payment preview - fix the selector and add more styling
            const paymentPreview = document.querySelector('.bg-white.rounded-lg.shadow-lg.p-6:last-child');
            if (paymentPreview) {
                // Style headings
                paymentPreview.querySelectorAll('h3').forEach(heading => {
                    heading.style.color = theme.primaryColor;
                });
                
                // Style borders and text
                paymentPreview.querySelectorAll('.border-t').forEach(element => {
                    element.style.borderColor = theme.secondaryColor;
                });
                
                // Style text
                paymentPreview.querySelectorAll('.text-gray-600').forEach(element => {
                    element.style.color = theme.secondaryColor;
                });

                // Style card button border
                const cardButton = paymentPreview.querySelector('.border-2');
                if (cardButton) {
                    cardButton.style.borderColor = theme.secondaryColor;
                }

                // Apply font family
                paymentPreview.style.fontFamily = theme.fontFamily;
            }
        }

        // Initialize with default theme
        applyTheme('professional');

        function updateCustomTheme() {
            // Get current values from inputs
            const primaryColor = document.getElementById('primaryColor').value;
            const secondaryColor = document.getElementById('secondaryColor').value;
            const accentColor = document.getElementById('accentColor').value;
            const fontFamily = document.getElementById('fontFamily').value;
            
            // Update custom theme
            themes.custom = {
                primaryColor,
                secondaryColor,
                accentColor,
                backgroundColor: '#FFFFFF',
                fontFamily
            };
            
            // Update preview colors
            document.getElementById('primaryPreview').style.backgroundColor = primaryColor;
            document.getElementById('secondaryPreview').style.backgroundColor = secondaryColor;
            document.getElementById('accentPreview').style.backgroundColor = accentColor;
            
            // If custom theme is currently selected, apply changes immediately
            if (currentTheme === 'custom') {
                applyTheme('custom');
            }
        }

        // Initialize custom theme preview
        document.addEventListener('DOMContentLoaded', function() {
            updateCustomTheme();
        });

        let extractedTheme = null;

        async function extractTheme() {
            const url = document.getElementById('websiteUrl').value;
            if (!url) return;

            try {
                // Show loading state
                const button = document.querySelector('button[onclick="extractTheme()"]');
                const originalText = button.innerText;
                button.innerText = 'Extracting...';
                button.disabled = true;

                // In a real implementation, this would be your backend endpoint
                // For demo, we'll simulate an API call with random colors
                await new Promise(resolve => setTimeout(resolve, 1500)); // Simulate API delay

                // Simulate extracted colors (in production, these would come from your backend)
                extractedTheme = {
                    primaryColor: `#${Math.floor(Math.random()*16777215).toString(16)}`,
                    secondaryColor: `#${Math.floor(Math.random()*16777215).toString(16)}`,
                    accentColor: `#${Math.floor(Math.random()*16777215).toString(16)}`,
                    fontFamily: ['Inter', 'Montserrat', 'Merriweather'][Math.floor(Math.random() * 3)]
                };

                // Update the preview
                document.getElementById('extractedPrimary').style.backgroundColor = extractedTheme.primaryColor;
                document.getElementById('extractedSecondary').style.backgroundColor = extractedTheme.secondaryColor;
                document.getElementById('extractedAccent').style.backgroundColor = extractedTheme.accentColor;
                document.getElementById('extractedFont').innerText = extractedTheme.fontFamily;

                // Show the extracted theme section
                document.getElementById('extractedTheme').classList.remove('hidden');

                // Reset button
                button.innerText = originalText;
                button.disabled = false;
            } catch (error) {
                alert('Failed to extract theme. Please try again.');
                console.error(error);
            }
        }

        function applyExtractedTheme() {
            if (!extractedTheme) return;

            // Update custom theme inputs with extracted values
            document.getElementById('primaryColor').value = extractedTheme.primaryColor;
            document.getElementById('secondaryColor').value = extractedTheme.secondaryColor;
            document.getElementById('accentColor').value = extractedTheme.accentColor;
            
            // Update font selector
            const fontSelect = document.getElementById('fontFamily');
            const fontOption = Array.from(fontSelect.options).find(option => 
                option.value === extractedTheme.fontFamily + ', sans-serif' || 
                option.value === extractedTheme.fontFamily + ', serif'
            );
            
            if (fontOption) {
                fontSelect.value = fontOption.value;
            } else {
                // Fallback to Inter if the extracted font isn't in our list
                fontSelect.value = 'Inter, sans-serif';
            }

            // Update and apply the theme
            updateCustomTheme();
            applyTheme('custom');
        }
    </script>
</body>
</html> 